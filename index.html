<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arbitrage Analyzer v2.7 - Over/Under Edition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* LOGIN SCREEN */
        #loginScreen {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .login-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 400px;
        }

        .login-container h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .version-badge {
            text-align: center;
            color: #764ba2;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 30px;
            padding: 5px 15px;
            background: rgba(118, 75, 162, 0.1);
            border-radius: 20px;
            display: inline-block;
            width: 100%;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn-login {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-login:hover {
            transform: translateY(-2px);
        }

        .btn-login:active {
            transform: translateY(0);
        }

        /* MAIN APP */
        #mainApp {
            display: none;
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #667eea;
            font-size: 24px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-info {
            color: #666;
            font-size: 14px;
        }

        .btn-logout {
            padding: 8px 20px;
            background: #f44336;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }

        .btn-logout:hover {
            background: #d32f2f;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab {
            flex: 1;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .tab-content {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            min-height: 500px;
        }

        .hidden {
            display: none;
        }

        /* BOOKMAKERS SECTION */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-header h2 {
            color: #333;
            font-size: 22px;
        }

        .selected-count {
            background: #4CAF50;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .bookmakers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .bookmaker-card {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .bookmaker-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .bookmaker-card.selected {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-color: #667eea;
        }

        .bookmaker-name {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .bookmaker-status {
            font-size: 13px;
            color: #666;
        }

        .bookmaker-card.selected .bookmaker-status {
            color: #667eea;
            font-weight: 600;
        }

        .btn-search {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 20px;
        }

        .btn-search:hover {
            transform: translateY(-2px);
        }

        #results {
            margin-top: 30px;
        }

        /* ARBITRAGE CARDS */
        .arbitrage-card {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
        }

        .arb-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .arb-type-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .arb-profit {
            background: #4CAF50;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 20px;
            font-weight: 700;
            box-shadow: 0 3px 10px rgba(76, 175, 80, 0.4);
        }

        .arb-event {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        .arb-quotes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .quote-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .quote-bookmaker {
            font-size: 14px;
            color: #64B5F6;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .quote-outcome {
            font-size: 16px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .quote-odd {
            font-size: 14px;
            margin-bottom: 5px;
            color: rgba(255, 255, 255, 0.9);
        }

        .quote-stake {
            font-size: 14px;
            color: #4CAF50;
        }

        .arb-summary {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 15px;
        }

        .summary-row:last-child {
            margin-bottom: 0;
        }

        .arb-links {
            font-size: 13px;
            padding-top: 15px;
            border-top: 2px solid rgba(255, 255, 255, 0.2);
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 18px;
            color: #666;
        }

        /* BONUS SECTION */
        .bonus-form {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .bonus-form h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 5px;
            color: #666;
            font-size: 14px;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn-add {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .bonus-card {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 5px solid #4CAF50;
        }

        .bonus-card.completed {
            opacity: 0.6;
            border-left-color: #9e9e9e;
        }

        .bonus-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .bonus-header h3 {
            color: #333;
            font-size: 18px;
        }

        .bonus-amount {
            background: #4CAF50;
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-weight: 600;
        }

        .bonus-requirements {
            color: #666;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .bonus-date {
            color: #999;
            font-size: 12px;
            margin-bottom: 10px;
        }

        .bonus-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 8px 15px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
        }

        .btn-danger {
            background: #f44336;
        }

        /* CALCULATORS */
        .calculator-tabs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 25px;
        }

        .calc-tab {
            padding: 12px;
            background: #f5f5f5;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
        }

        .calc-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .calculator {
            display: none;
        }

        .calc-form {
            background: #f5f5f5;
            padding: 25px;
            border-radius: 12px;
        }

        .calc-form h3 {
            color: #333;
            margin-bottom: 20px;
        }

        .calc-result {
            margin-top: 20px;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .tabs {
                flex-direction: column;
            }

            .bookmakers-grid {
                grid-template-columns: 1fr;
            }

            .arb-quotes {
                grid-template-columns: 1fr;
            }

            .calculator-tabs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- LOGIN SCREEN -->
    <div id="loginScreen">
        <div class="login-container">
            <h1>üéØ Arbitrage Analyzer</h1>
            <div class="version-badge">v2.7 - Over/Under Edition</div>
            
            <div class="input-group">
                <label for="username">Username</label>
                <input type="text" id="username" placeholder="Inserisci username">
            </div>
            
            <div class="input-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Inserisci password">
            </div>
            
            <button class="btn-login" onclick="login()">üîê Accedi</button>
        </div>
    </div>

    <!-- MAIN APP -->
    <div id="mainApp">
        <div class="header">
            <div>
                <h1>üéØ Arbitrage Analyzer v2.7</h1>
                <p style="color: #666; font-size: 13px; margin-top: 5px;">Over/Under Edition - Tutte le combinazioni vincenti</p>
            </div>
            <div class="header-right">
                <div class="user-info">
                    üë§ <span id="userDisplay"></span>
                </div>
                <button class="btn-logout" onclick="logout()">Esci</button>
            </div>
        </div>

        <!-- TABS -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('bookmakers')">üìä Bookmaker</button>
            <button class="tab" onclick="showTab('bonus')">üéÅ Bonus</button>
            <button class="tab" onclick="showTab('calculators')">üßÆ Calcolatori</button>
        </div>

        <!-- BOOKMAKERS TAB -->
        <div id="tab-bookmakers" class="tab-content">
            <div class="section-header">
                <h2>Seleziona Bookmaker</h2>
                <div class="selected-count">
                    <span id="selectedCount">0</span> selezionati
                </div>
            </div>

            <div id="bookmakersGrid" class="bookmakers-grid"></div>

            <button class="btn-search" onclick="searchArbitrages()">
                üîç Cerca Arbitraggi
            </button>

            <div id="results"></div>
        </div>

        <!-- BONUS TAB -->
        <div id="tab-bonus" class="tab-content hidden">
            <h2 style="color: #333; margin-bottom: 25px;">üí∞ Gestione Bonus</h2>

            <div class="bonus-form">
                <h3>‚ûï Aggiungi Nuovo Bonus</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Bookmaker *</label>
                        <input type="text" id="bonusBookmaker" placeholder="es. Bet365">
                    </div>
                    
                    <div class="form-group">
                        <label>Importo Bonus (‚Ç¨) *</label>
                        <input type="number" id="bonusAmount" placeholder="es. 100">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Requisiti / Note</label>
                        <textarea id="bonusRequirements" rows="2" placeholder="es. Rollover 3x, entro 30 giorni"></textarea>
                    </div>
                </div>
                
                <button class="btn-add" onclick="addBonus()">‚ûï Aggiungi Bonus</button>
            </div>

            <h3 style="color: #333; margin-bottom: 15px;">üìã I Tuoi Bonus</h3>
            <div id="bonusList"></div>
        </div>

        <!-- CALCULATORS TAB -->
        <div id="tab-calculators" class="tab-content hidden">
            <h2 style="color: #333; margin-bottom: 25px;">üßÆ Calcolatori Professionali</h2>

            <div class="calculator-tabs">
                <div class="calc-tab active" onclick="showCalculator('arbitrage')">
                    üìä Arbitraggio
                </div>
                <div class="calc-tab" onclick="showCalculator('bonus')">
                    üéÅ Bonus Extraction
                </div>
                <div class="calc-tab" onclick="showCalculator('kelly')">
                    üéØ Kelly Criterion
                </div>
                <div class="calc-tab" onclick="showCalculator('matched')">
                    üîÑ Matched Betting
                </div>
            </div>

            <!-- Arbitrage Calculator -->
            <div id="calc-arbitrage" class="calculator" style="display: block;">
                <div class="calc-form">
                    <h3>üìä Calcolatore Arbitraggio</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Quota 1</label>
                            <input type="number" step="0.01" id="arb-odd1" placeholder="es. 2.10">
                        </div>
                        <div class="form-group">
                            <label>Quota 2</label>
                            <input type="number" step="0.01" id="arb-odd2" placeholder="es. 2.05">
                        </div>
                        <div class="form-group">
                            <label>Importo Totale (‚Ç¨)</label>
                            <input type="number" step="0.01" id="arb-stake" placeholder="es. 100">
                        </div>
                    </div>
                    
                    <button class="btn-add" onclick="calculateArbitrage()">Calcola</button>
                    
                    <div id="arb-result" class="calc-result"></div>
                </div>
            </div>

            <!-- Bonus Extraction Calculator -->
            <div id="calc-bonus" class="calculator">
                <div class="calc-form">
                    <h3>üéÅ Calcolatore Bonus Extraction</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Importo Bonus (‚Ç¨)</label>
                            <input type="number" step="0.01" id="bonus-amount" placeholder="es. 100">
                        </div>
                        <div class="form-group">
                            <label>Rollover (volte)</label>
                            <input type="number" step="1" id="bonus-rollover" placeholder="es. 3">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Quota Back (Bookmaker)</label>
                            <input type="number" step="0.01" id="bonus-back" placeholder="es. 2.00">
                        </div>
                        <div class="form-group">
                            <label>Quota Lay (Exchange)</label>
                            <input type="number" step="0.01" id="bonus-lay" placeholder="es. 2.10">
                        </div>
                    </div>
                    
                    <button class="btn-add" onclick="calculateBonus()">Calcola</button>
                    
                    <div id="bonus-result" class="calc-result"></div>
                </div>
            </div>

            <!-- Kelly Criterion Calculator -->
            <div id="calc-kelly" class="calculator">
                <div class="calc-form">
                    <h3>üéØ Kelly Criterion</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Probabilit√† di Vincita (%)</label>
                            <input type="number" step="0.1" id="kelly-prob" placeholder="es. 55">
                        </div>
                        <div class="form-group">
                            <label>Quota</label>
                            <input type="number" step="0.01" id="kelly-odd" placeholder="es. 2.00">
                        </div>
                        <div class="form-group">
                            <label>Bankroll Totale (‚Ç¨)</label>
                            <input type="number" step="0.01" id="kelly-bankroll" placeholder="es. 1000">
                        </div>
                    </div>
                    
                    <button class="btn-add" onclick="calculateKelly()">Calcola</button>
                    
                    <div id="kelly-result" class="calc-result"></div>
                </div>
            </div>

            <!-- Matched Betting Calculator -->
            <div id="calc-matched" class="calculator">
                <div class="calc-form">
                    <h3>üîÑ Matched Betting</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Puntata Back (‚Ç¨)</label>
                            <input type="number" step="0.01" id="matched-back-stake" placeholder="es. 50">
                        </div>
                        <div class="form-group">
                            <label>Quota Back</label>
                            <input type="number" step="0.01" id="matched-back-odd" placeholder="es. 3.00">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Quota Lay</label>
                            <input type="number" step="0.01" id="matched-lay-odd" placeholder="es. 3.10">
                        </div>
                        <div class="form-group">
                            <label>Commissione Exchange (%)</label>
                            <input type="number" step="0.1" id="matched-commission" placeholder="es. 5" value="5">
                        </div>
                    </div>
                    
                    <button class="btn-add" onclick="calculateMatched()">Calcola</button>
                    
                    <div id="matched-result" class="calc-result"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        function showTab(tab) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            document.querySelectorAll('.tab').forEach(t => {
                t.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(`tab-${tab}`).classList.remove('hidden');
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
